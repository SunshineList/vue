webpackJsonp([1],{"7Otq":function(t,e,n){t.exports=n.p+"static/img/logo.8be4d95.png"},EnRk:function(t,e){},LPfu:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},o,!1,function(t){n("cOhu")},null,null).exports,r=n("/ocq"),i={name:"login",data:function(){return{username:"",password:"",isBtnLoading:!1}},created:function(){},computed:{btnText:function(){return this.isBtnLoading?"登录中...":"登录"}},methods:{login:function(){var t=this;this.username?this.password?this.$axios({method:"POST",url:"api/login/",data:{username:this.username,password:this.password}}).then(function(e){e.data.error_code?t.$message.error("登录失败"):(t.$store.dispatch("userLogin",!0),localStorage.setItem("Flag","isLogin"),t.$message.success("登录成功"),t.$router.push("/home"))}).catch(function(t){console.log(t)}):this.$message.error("请输入密码"):this.$message.error("请输入用户名")},forget:function(){alert("忘记密码联系本站管理员")}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),n("div",{staticClass:"login_form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"qxs-ic_user qxs-icon",attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"qxs-ic_password qxs-icon",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("br"),t._v(" "),n("el-button",{staticClass:"login_btn",attrs:{type:"primary",round:"",loading:t.isBtnLoading},nativeOn:{click:function(e){return t.login(e)}}},[t._v("登录")]),t._v(" "),n("div",{staticStyle:{"margin-top":"10px"}},[n("span",{staticStyle:{color:"#A9A9AB"}},[n("a",{staticStyle:{color:"#3a8ee6"},on:{click:t.forget}},[t._v("忘记密码？")])])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"outer_label"},[e("img",{staticClass:"inner_label login_logo",attrs:{src:n("7Otq")}})])}]};var u=n("VU/8")(i,l,!1,function(t){n("EnRk")},null,null).exports,c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("el-row",{attrs:{display:"margin-top:10px"}},[n("el-table",{staticStyle:{border:"2px solid greenyellow"},attrs:{data:t.infolist}},[n("el-table-column",{attrs:{prop:"id",label:"编号"}},[void 0],2),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"用户名"}},[void 0],2),t._v(" "),n("el-table-column",{attrs:{prop:"sex",label:"性别",formatter:t.formatSex}},[void 0],2),t._v(" "),n("el-table-column",{attrs:{prop:"date",label:"上传时间"}},[void 0],2),t._v(" "),n("el-table-column",{attrs:{prop:"address",label:"地址"}},[void 0],2),t._v(" "),n("el-table-column",{attrs:{prop:"IsAudit",label:"状态",formatter:t.formatterColumn}},[void 0],2),t._v(" "),n("el-table-column",{attrs:{prop:"handle",label:"操作"}},[[n("el-button",{attrs:{type:"primary"},on:{click:function(t){}}},[t._v("删除")])]],2)],1),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.out()}}},[t._v("退出登录")])],1),t._v(" "),n("router-view")],1)},staticRenderFns:[]};var d=n("VU/8")({name:"Home",data:function(){return{infolist:[{id:"1",date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",IsAudit:0,sex:"1"},{id:"2",date:"2016-05-02",name:"王小六",address:"上海市普陀区金沙江路 1518 弄",IsAudit:1,sex:"0"},{id:"3",date:"2016-05-02",name:"王小七",address:"上海市普陀区金沙江路 1518 弄",IsAudit:10,sex:"-1"}],username:"",password:"",email:"",is_staff:"",is_active:"",created_time:""}},created:function(){},methods:{formatSex:function(t,e,n,a){return"1"===t.sex?"男":"0"===t.sex?"女":"未知"},formatterColumn:function(t,e){switch(t.IsAudit){case 0:return"未通过";case 1:return"审核通过";case 10:return"待审核";case 9:return"草稿";default:return"未知"}},out:function(){this.$router.push("/")}}},c,!1,function(t){n("LPfu")},"data-v-64b2c2ec",null).exports;a.default.use(r.a);var p=new r.a({mode:"history",routes:[{path:"/",component:u,meta:{isLogin:!1}},{path:"/home",component:d,meta:{isLogin:!0}}]}),m=n("NYxO");a.default.use(m.a);var f=new m.a.Store({state:{isLogin:!1},getters:{isLogin:function(t){return t.isLogin}},mutations:{userStatus:function(t,e){t.isLogin=e}},actions:{userLogin:function(t,e){(0,t.commit)("userStatus",e)}}}),v=n("zL8q"),g=n.n(v),h=(n("tvR6"),n("mtWM")),_=n.n(h),w=(n("TXXm"),this);a.default.use(g.a),a.default.prototype.$axios=_.a,a.default.config.productionTip=!1,_.a.defaults.headers.post["Content-Type"]="application/json",_.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",_.a.defaults.headers.get["Content-Type"]="application/x-www-form-urlencoded",_.a.defaults.transformRequest=[function(t){var e="";for(var n in t)e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n])+"&";return e}],p.beforeEach(function(t,e,n){"isLogin"===localStorage.getItem("Flag")?(f.state.isLogin=!0,console.log(f.state.isLogin),n(),t.meta.isLogin||(w.$message.error("请先退出登录"),n({path:"/home"}))):t.meta.isLogin?(n({path:"/"}),w.$message.error("请先登录")):n()}),p.afterEach(function(t){window.scroll(0,0)}),new a.default({el:"#app",router:p,store:f,components:{App:s},template:"<App/>"})},TXXm:function(t,e){},cOhu:function(t,e){},tvR6:function(t,e){}},["NHnr"]);